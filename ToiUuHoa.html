<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√¥ng c·ª• T·ªëi ∆∞u H√≥a Logistics (STEM)</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
        }
        .container {
            max-width: 600px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }
        input[type="number"] {
            width: 95%;
            padding: 8px;
            margin-top: 4px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 20px;
            width: 100%;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
        #ketQua {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #28a745;
            background-color: #e2f0e7;
            border-radius: 4px;
        }
        #ketQua h3 {
            color: #d9534f;
            margin-top: 0;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>üöö C√¥ng c·ª• T·ªëi ∆∞u H√≥a Logistics (To√°n 10)</h2>
    <p>Gi·∫£i b√†i to√°n: T·ªëi ƒëa h√≥a L·ª£i nhu·∫≠n $L = c_1 x + c_2 y$</p>

    <h3>1. L·ª£i nhu·∫≠n tr√™n m·ªói ƒë∆°n v·ªã</h3>
    <label for="c1">L·ª£i nhu·∫≠n H√†ng X ($c_1$):</label>
    <input type="number" id="c1" value="50" min="0">
    
    <label for="c2">L·ª£i nhu·∫≠n H√†ng Y ($c_2$):</label>
    <input type="number" id="c2" value="70" min="0">

    <h3>2. C√°c R√†ng bu·ªôc (B·∫•t Ph∆∞∆°ng Tr√¨nh)</h3>
    
    <label for="T_max">T·ªïng s·ªë chuy·∫øn/th·ªùi gian ($T_{\max}$): (R√†ng bu·ªôc: $x + y \le T_{\max}$)</label>
    <input type="number" id="T_max" value="20" min="1">
    
    <p style="margin-bottom: 5px; font-weight: bold;">R√†ng bu·ªôc Tr·ªçng l∆∞·ª£ng: $a x + b y \le W_{\max}$</p>
    <label for="a">Tr·ªçng l∆∞·ª£ng H√†ng X ($a$):</label>
    <input type="number" id="a" value="3" min="1">
    
    <label for="b">Tr·ªçng l∆∞·ª£ng H√†ng Y ($b$):</label>
    <input type="number" id="b" value="4" min="1">
    
    <label for="W_max">T·ªïng s·ª©c ch·ª©a ($W_{\max}$):</label>
    <input type="number" id="W_max" value="70" min="1">

    <button onclick="tinhToanToiUu()">T·ªëi ∆Øu H√≥a L·ª£i Nhu·∫≠n</button>

    <h3>3. K·∫øt Qu·∫£ T·ªëi ∆Øu</h3>
    <div id="ketQua">
        K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y.
    </div>
</div>

<script>
    function tinhToanToiUu() {
        // 1. L·∫•y d·ªØ li·ªáu t·ª´ giao di·ªán HTML
        const c1 = parseFloat(document.getElementById('c1').value);
        const c2 = parseFloat(document.getElementById('c2').value);
        const T_max = parseFloat(document.getElementById('T_max').value);
        const a = parseFloat(document.getElementById('a').value);
        const b = parseFloat(document.getElementById('b').value);
        const W_max = parseFloat(document.getElementById('W_max').value);

        if (isNaN(c1) || isNaN(c2) || isNaN(T_max) || isNaN(a) || isNaN(b) || isNaN(W_max)) {
            document.getElementById('ketQua').innerHTML = 'Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß v√† ch√≠nh x√°c c√°c gi√° tr·ªã.';
            return;
        }

        // 2. M·∫£ng l∆∞u tr·ªØ c√°c ƒê·ªàNH c·ªßa Mi·ªÅn Nghi·ªám
        let diemDinh = [];

        // ƒê·ªânh 1: A (0, 0)
        diemDinh.push({ x: 0, y: 0 });

        // ƒê·ªânh 2: Giao ƒëi·ªÉm c·ªßa x=0 v√† c√°c r√†ng bu·ªôc (Tr·ª•c OY)
        diemDinh.push({ x: 0, y: T_max });
        diemDinh.push({ x: 0, y: W_max / b });

        // ƒê·ªânh 3: Giao ƒëi·ªÉm c·ªßa y=0 v√† c√°c r√†ng bu·ªôc (Tr·ª•c OX)
        diemDinh.push({ x: T_max, y: 0 });
        diemDinh.push({ x: W_max / a, y: 0 });


        // ƒê·ªânh 4: Giao ƒëi·ªÉm c·ªßa 2 ƒë∆∞·ªùng th·∫≥ng r√†ng bu·ªôc
        // (1) x + y = T_max
        // (2) a*x + b*y = W_max
        if (a !== b) {
            const x_giao = (W_max - b * T_max) / (a - b);
            const y_giao = T_max - x_giao;
            diemDinh.push({ x: x_giao, y: y_giao });
        }
        
        // 3. L·ªçc c√°c ƒëi·ªÉm h·ª£p l·ªá (thu·ªôc mi·ªÅn nghi·ªám)
        // Mi·ªÅn nghi·ªám l√†: (x >= 0) && (y >= 0) && (x+y <= T_max) && (a*x + b*y <= W_max)
        
        let diemHienThi = diemDinh.filter(diem => {
            return diem.x >= 0 && 
                   diem.y >= 0 && 
                   (diem.x + diem.y) <= (T_max + 0.01) && // Th√™m 0.01 ƒë·ªÉ x·ª≠ l√Ω sai s·ªë
                   (a * diem.x + b * diem.y) <= (W_max + 0.01);
        });

        // 4. T√¨m gi√° tr·ªã L·ªõn nh·∫•t (L_max)
        let L_max = -Infinity;
        let diemToiUu = { x: 0, y: 0 };
        let chiTietKetQua = '<ul>';

        diemHienThi.forEach((diem, index) => {
            const L_hienTai = c1 * diem.x + c2 * diem.y;
            
            const x_lamTron = diem.x.toFixed(2);
            const y_lamTron = diem.y.toFixed(2);
            
            chiTietKetQua += `<li>ƒê·ªânh (${x_lamTron}, ${y_lamTron}): L·ª£i nhu·∫≠n L = ${L_hienTai.toFixed(2)}</li>`;

            if (L_hienTai > L_max) {
                L_max = L_hienTai;
                diemToiUu = diem;
            }
        });
        chiTietKetQua += '</ul>';

        // 5. Hi·ªÉn th·ªã K·∫øt qu·∫£ ra giao di·ªán
        const ketQuaHTML = `
            <h3>GI·∫¢I PH√ÅP T·ªêI ∆ØU:</h3>
            <p>ƒê·ªÉ ƒë·∫°t ƒë∆∞·ª£c l·ª£i nhu·∫≠n t·ªëi ƒëa <strong>${L_max.toFixed(2)}</strong>, c√¥ng ty c·∫ßn v·∫≠n chuy·ªÉn:</p>
            <p style="font-size: 1.1em;">
                S·ªë l∆∞·ª£ng H√†ng X: <strong>${diemToiUu.x.toFixed(2)}</strong><br>
                S·ªë l∆∞·ª£ng H√†ng Y: <strong>${diemToiUu.y.toFixed(2)}</strong>
            </p>
            <hr>
            <p><strong>Ph√¢n t√≠ch c√°c ƒë·ªânh c·ªßa mi·ªÅn nghi·ªám:</strong></p>
            ${chiTietKetQua}
            <p style="font-size: 0.9em; color: #555;">(L∆∞u √Ω: Trong th·ª±c t·∫ø, $x$ v√† $y$ c·∫ßn l√† s·ªë nguy√™n, c·∫ßn th√™m b∆∞·ªõc l√†m tr√≤n v√† ki·ªÉm tra l·∫°i.)</p>
        `;
        
        document.getElementById('ketQua').innerHTML = ketQuaHTML;
    }
</script>

</body>
</html>